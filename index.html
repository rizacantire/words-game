<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ä°talyanca-TÃ¼rkÃ§e Kelime Oyunu</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* CSS DeÄŸiÅŸkenleri ve Tema AyarlarÄ± */
        :root {
            /* AydÄ±nlÄ±k Mod Renkleri */
            --bg-color: #f0f4f8; /* DÄ±ÅŸ arka plan */
            --container-bg: #ffffff; /* Ana iÃ§erik kutusu arka planÄ± */
            --text-color-dark: #1f2937; /* Koyu metin (gray-800) */
            --text-color-medium: #4b5563; /* Orta koyu metin (gray-700) */
            --text-color-light: #6b7280; /* AÃ§Ä±k metin (gray-600) */
            --border-color: #e5e7eb; /* KenarlÄ±k (gray-200) */
            --input-border: #d1d5db; /* Input kenarlÄ±ÄŸÄ± (gray-300) */
            --input-focus-border: #3b82f6; /* Input odak kenarlÄ±ÄŸÄ± (blue-500) */
            --blue-50-bg: #eff6ff; /* Mavi arka plan (blue-50) */
            --yellow-50-bg: #fffbeb; /* SarÄ± arka plan (yellow-50) */
            --red-100-bg: #fee2e2; /* KÄ±rmÄ±zÄ± arka plan (red-100) */
            --red-700-text: #b91c1c; /* KÄ±rmÄ±zÄ± metin (red-700) */
            --blue-100-bg: #dbeafe; /* Mavi arka plan (blue-100) */
            --blue-500-border: #3b82f6; /* Mavi kenarlÄ±k (blue-500) */
            --blue-700-text: #1d4ed8; /* Mavi metin (blue-700) */
            --green-600-text: #16a34a; /* YeÅŸil metin (green-600) */
            --red-600-text: #dc2626; /* KÄ±rmÄ±zÄ± metin (red-600) */
            --yellow-600-text: #eab308; /* SarÄ± metin (yellow-600) */
            --purple-500-bg: #a855f7; /* Mor arka plan (purple-500) */
            --purple-700-bg: #7e22ce; /* Koyu mor arka plan (purple-700) */
            --green-500-bg: #22c55e; /* YeÅŸil arka plan (green-500) */
            --green-700-bg: #15803d; /* Koyu yeÅŸil arka plan (green-700) */
            --gray-200-bg: #e5e7eb; /* Gri arka plan (gray-200) */
            --gray-300-bg: #d1d5db; /* Koyu gri arka plan (gray-300) */
            --gray-800-text: #1f2937; /* Koyu gri metin (gray-800) */
            --gray-100-bg: #f3f4f6; /* AÃ§Ä±k gri arka plan (gray-100) */
            --gray-500-text: #6b7280; /* Gri metin (gray-500) */
            --gray-50-bg: #f9fafb; /* Ã‡ok aÃ§Ä±k gri arka plan (gray-50) */
            --blue-600-text: #2563eb; /* Mavi metin (blue-600) */

            /* Primary Button Gradients */
            --primary-gradient-start: #6EE7B7;
            --primary-gradient-mid: #34D399;
            --primary-gradient-end: #10B981;
            --primary-gradient-hover-start: #34D399;
            --primary-gradient-hover-mid: #10B981;
            --primary-gradient-hover-end: #059669;
        }

        .dark {
            /* KaranlÄ±k Mod Renkleri */
            --bg-color: #1a202c; /* Koyu gri dÄ±ÅŸ arka plan */
            --container-bg: #2d3748; /* Koyu iÃ§erik kutusu arka planÄ± */
            --text-color-dark: #e2e8f0; /* AÃ§Ä±k gri metin */
            --text-color-medium: #cbd5e0; /* Daha aÃ§Ä±k gri metin */
            --text-color-light: #a0aec0; /* En aÃ§Ä±k gri metin */
            --border-color: #4a5568; /* Koyu kenarlÄ±k */
            --input-border: #4a5568;
            --input-focus-border: #63b3ed; /* AÃ§Ä±k mavi odak kenarlÄ±ÄŸÄ± */
            --blue-50-bg: #2a4365; /* Koyu mavi-50 */
            --yellow-50-bg: #433e2e; /* Koyu sarÄ±-50 */
            --red-100-bg: #4a2d2d; /* Koyu kÄ±rmÄ±zÄ±-100 */
            --red-700-text: #ef4444; /* Parlak kÄ±rmÄ±zÄ± metin */
            --blue-100-bg: #2a4365; /* Koyu mavi-100 */
            --blue-500-border: #63b3ed; /* AÃ§Ä±k mavi kenarlÄ±k */
            --blue-700-text: #90cdf4; /* AÃ§Ä±k mavi metin */
            --green-600-text: #68d391; /* AÃ§Ä±k yeÅŸil metin */
            --red-600-text: #fc8181; /* AÃ§Ä±k kÄ±rmÄ±zÄ± metin */
            --yellow-600-text: #f6e05e; /* AÃ§Ä±k sarÄ± metin */
            --purple-500-bg: #9f7aea; /* AÃ§Ä±k mor */
            --purple-700-bg: #b794f4; /* Daha aÃ§Ä±k mor */
            --green-500-bg: #48bb78; /* AÃ§Ä±k yeÅŸil */
            --green-700-bg: #68d391; /* Daha aÃ§Ä±k yeÅŸil */
            --gray-200-bg: #4a5568; /* Koyu gri-200 */
            --gray-300-bg: #6b7280; /* Koyu gri-300 */
            --gray-800-text: #e2e8f0; /* AÃ§Ä±k gri metin */
            --gray-100-bg: #2d3748; /* Koyu gri-100 */
            --gray-500-text: #a0aec0; /* AÃ§Ä±k gri-500 */
            --gray-50-bg: #2d3748; /* Koyu gri-50 */
            --blue-600-text: #63b3ed; /* AÃ§Ä±k mavi metin */

            /* Primary Button Gradients for Dark Mode */
            --primary-gradient-start: #38a169;
            --primary-gradient-mid: #2f855a;
            --primary-gradient-end: #276749;
            --primary-gradient-hover-start: #2f855a;
            --primary-gradient-hover-mid: #276749;
            --primary-gradient-hover-end: #1c4532;
        }

        /* Genel HTML Element Stilleri */
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color-dark); /* VarsayÄ±lan metin rengi */
        }
        .container {
            background-color: var(--container-bg);
            color: var(--text-color-dark); /* Konteyner iÃ§indeki metin rengi */
        }

        /* Tailwind sÄ±nÄ±flarÄ±nÄ± CSS deÄŸiÅŸkenlerine baÄŸlama (bu sayede dark modda deÄŸiÅŸirler) */
        /* Bu bÃ¶lÃ¼m, doÄŸrudan Tailwind sÄ±nÄ±flarÄ±nÄ± kullanmak yerine, onlarÄ±n yerine CSS deÄŸiÅŸkenlerini kullanÄ±r. */
        .text-gray-800 { color: var(--text-color-dark); }
        .text-gray-700 { color: var(--text-color-medium); }
        .text-gray-600 { color: var(--text-color-light); }
        .border-gray-200 { border-color: var(--border-color); }
        .border-gray-300 { border-color: var(--input-border); }
        .focus\:border-blue-500:focus { border-color: var(--input-focus-border); }
        .bg-blue-50 { background-color: var(--blue-50-bg); }
        .bg-yellow-50 { background-color: var(--yellow-50-bg); }
        .bg-red-100 { background-color: var(--red-100-bg); }
        .text-red-700 { color: var(--red-700-text); }
        .bg-blue-100 { background-color: var(--blue-100-bg); }
        .border-blue-500 { border-color: var(--blue-500-border); }
        .text-blue-700 { color: var(--blue-700-text); }
        .text-green-600 { color: var(--green-600-text); }
        .text-red-600 { color: var(--red-600-text); }
        .text-yellow-600 { color: var(--yellow-600-text); }
        .bg-purple-500 { background-color: var(--purple-500-bg); }
        .hover\:bg-purple-700:hover { background-color: var(--purple-700-bg); }
        .bg-green-500 { background-color: var(--green-500-bg); }
        .hover\:bg-green-700:hover { background-color: var(--green-700-bg); }
        .bg-gray-200 { background-color: var(--gray-200-bg); }
        .hover\:bg-gray-300:hover { background-color: var(--gray-300-bg); }
        .text-gray-800 { color: var(--gray-800-text); }
        .bg-gray-100 { background-color: var(--gray-100-bg); }
        .text-gray-500 { color: var(--gray-500-text); }
        .bg-gray-50 { background-color: var(--gray-50-bg); }
        .text-blue-600 { color: var(--blue-600-text); }

        /* DiÄŸer Stil KurallarÄ± */
        .button-primary {
            background-image: linear-gradient(to right, var(--primary-gradient-start), var(--primary-gradient-mid), var(--primary-gradient-end));
            transition: all 0.2s ease-in-out;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            color: white; /* Buton metin rengi, gradient olduÄŸu iÃ§in beyaz kalabilir */
        }
        .button-primary:hover {
            background-image: linear-gradient(to right, var(--primary-gradient-hover-start), var(--primary-gradient-hover-mid), var(--primary-gradient-hover-end));
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
            transform: translateY(-2px);
        }
        .button-secondary {
            background-color: var(--gray-200-bg);
            color: var(--text-color-medium); /* Metin rengi deÄŸiÅŸkenden alÄ±nÄ±r */
            transition: all 0.2s ease-in-out;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        .button-secondary:hover {
            background-color: var(--gray-300-bg);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transform: translateY(-1px);
        }
        /* Google GiriÅŸ Butonu Stili */
        .google-signin-button {
            background-color: #4285F4; /* Google Blue */
            color: white;
            padding: 1rem 2rem;
            border-radius: 0.75rem;
            font-weight: bold;
            font-size: 1.25rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            transition: background-color 0.2s ease-in-out;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 320px;
        }
        .google-signin-button:hover {
            background-color: #357ae8;
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
            transform: translateY(-2px);
        }
        .google-icon {
            width: 24px;
            height: 24px;
            background-color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 4px;
        }
        .google-icon img {
            width: 100%;
            height: 100%;
        }
        /* Modal Stilleri */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.4);
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            background-color: var(--container-bg);
            color: var(--text-color-dark);
            margin: auto;
            padding: 2.5rem;
            border-radius: 1rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            max-width: 90%;
            width: 400px;
            text-align: center;
        }
        .close-button {
            color: var(--text-color-light);
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }
        .close-button:hover,
        .close-button:focus {
            color: var(--text-color-dark);
            text-decoration: none;
        }

        /* KonumlandÄ±rma DÃ¼zeltmeleri */
        #user-info-display {
            top: 1rem; /* Ãœstten 1rem boÅŸluk */
            right: 1rem; /* SaÄŸdan 1rem boÅŸluk */
            z-index: 50; /* DiÄŸer elementlerin Ã¼zerinde kalmasÄ±nÄ± saÄŸlar */
        }
        #theme-toggle {
            top: 1rem; /* Ãœstten 1rem boÅŸluk */
            left: 1rem; /* Sol tarafa 1rem boÅŸluk */
            z-index: 50; /* DiÄŸer elementlerin Ã¼zerinde kalmasÄ±nÄ± saÄŸlar */
        }

        /* Responsive ayarlamalar */
        @media (max-width: 768px) { /* Tablet ve mobil cihazlar iÃ§in */
            #user-info-display {
                top: 0.5rem;
                right: 0.5rem;
                font-size: 0.65rem; /* Daha kÃ¼Ã§Ã¼k font */
                padding: 0.25rem 0.5rem; /* Daha kÃ¼Ã§Ã¼k padding */
            }
            #theme-toggle {
                top: 0.5rem;
                left: 0.5rem; /* Mobil iÃ§in daha kÃ¼Ã§Ã¼k boÅŸluk */
                padding: 0.1rem 0.2rem; /* Daha kÃ¼Ã§Ã¼k padding */
                font-size: 0.75rem; /* Daha kÃ¼Ã§Ã¼k font */
            }
            .google-signin-button {
                padding: 0.75rem 1.5rem;
                font-size: 1rem;
            }
            .button-primary, .button-secondary {
                padding: 0.75rem 1.5rem;
                font-size: 1.25rem;
            }
            h1 {
                font-size: 2.5rem; /* BaÅŸlÄ±k fontunu kÃ¼Ã§Ã¼lt */
            }
        }
        @media (max-width: 480px) { /* KÃ¼Ã§Ã¼k mobil cihazlar iÃ§in */
            #user-info-display {
                top: 0.25rem;
                right: 0.25rem;
                font-size: 0.6rem;
                padding: 0.1rem 0.3rem;
            }
            #theme-toggle {
                top: 0.25rem;
                left: 0.25rem; /* Daha da kÃ¼Ã§Ã¼k boÅŸluk */
                padding: 0.05rem 0.1rem;
                font-size: 0.6rem;
            }
            .google-signin-button {
                padding: 0.5rem 1rem;
                font-size: 0.9rem;
            }
            .button-primary, .button-secondary {
                padding: 0.6rem 1.2rem;
                font-size: 1rem;
            }
            h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">
    <div class="container p-8 rounded-xl shadow-lg flex flex-col items-center gap-6 relative">
        <!-- KullanÄ±cÄ± Bilgisi ve Ã‡Ä±kÄ±ÅŸ Butonu (TÃ¼m sayfalarda ortak) -->
        <div id="user-info-display" class="absolute text-xs text-gray-600 bg-gray-100 px-3 py-1 rounded-md shadow-sm flex items-center gap-2">
            <span id="user-display-text">YÃ¼kleniyor...</span>
            <button id="sign-out-button" class="ml-2 px-2 py-1 bg-red-100 text-red-700 rounded-md hover:bg-red-200 text-xs hidden">Ã‡Ä±kÄ±ÅŸ Yap</button>
        </div>

        <!-- Tema DeÄŸiÅŸtirme Butonu -->
        <button id="theme-toggle" class="absolute bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-2 px-3 rounded-full text-sm shadow-md transition duration-200 ease-in-out z-50" title="TemayÄ± DeÄŸiÅŸtir">
            <!-- SVG icon JS tarafÄ±ndan yÃ¼klenecek -->
        </button>

        <h1 class="text-4xl font-bold text-gray-800 mb-4 text-center">Ä°talyanca-TÃ¼rkÃ§e Kelime Oyunu</h1>

        <!-- Ana MenÃ¼ / Mod SeÃ§imi -->
        <div id="main-menu" class="w-full flex flex-col items-center justify-center gap-6 p-6">
            <button id="google-signin-button" class="google-signin-button">
                <span class="google-icon">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/4/4a/Logo_Google__G__Nouvelle_version.svg" alt="Google Logo">
                </span>
                Google ile GiriÅŸ Yap
            </button>
            <a href="game_modes.html" id="start-game-mode-button" class="button-primary px-10 py-5 text-white font-bold rounded-xl text-2xl w-full max-w-sm hidden flex items-center justify-center">Kelime Oyunu Oyna</a>
            <a href="manage_words.html" id="manage-words-mode-button" class="button-secondary px-10 py-5 text-gray-800 font-bold rounded-xl text-2xl w-full max-w-sm hidden flex items-center justify-center">Kelimeleri YÃ¶net</a>

            <!-- Bilgilendirme Kutusu -->
            <div class="bg-blue-100 border-l-4 border-blue-500 text-blue-700 p-4 rounded-lg mt-6 w-full max-w-lg" role="alert">
                <p class="font-bold">Ã–nemli Bilgilendirme:</p>
                <p class="text-sm">Uygulama verilerinizi kaydetmek iÃ§in Firebase kullanÄ±r. Google ile giriÅŸ yaparak, kelimelerinize her yerden (farklÄ± tarayÄ±cÄ±lar veya cihazlar) eriÅŸebilirsiniz.</p>
            </div>
        </div>
    </div>

    <!-- Modallar (TÃ¼m sayfalarda ortak olarak bulunmalÄ±) -->
    <div id="error-modal" class="modal">
        <div class="modal-content">
            <span class="close-button" onclick="window.closeModal('error-modal')">&times;</span>
            <h2 class="text-3xl font-bold text-red-600 mb-4">Hata! ðŸš¨</h2>
            <p id="error-message" class="text-lg text-gray-700 mb-6"></p>
            <button class="button-secondary px-6 py-3 text-gray-800 font-bold rounded-xl text-lg" onclick="window.closeModal('error-modal')">Tamam</button>
        </div>
    </div>

    <div id="confirm-modal" class="modal">
        <div class="modal-content">
            <h2 class="text-2xl font-bold text-gray-800 mb-4" id="confirm-modal-title">Onay Gerekli</h2>
            <p id="confirm-message" class="text-lg text-gray-700 mb-6"></p>
            <div id="confirm-details-list" class="text-left text-gray-700 mb-6 max-h-48 overflow-y-auto hidden">
                <!-- Detaylar buraya yÃ¼klenecek -->
            </div>
            <div class="flex justify-center gap-4">
                <button id="confirm-yes-button" class="button-primary px-6 py-3 text-white font-bold rounded-lg">Evet</button>
                <button id="confirm-no-button" class="button-secondary px-6 py-3 text-gray-800 font-bold rounded-lg">HayÄ±r</button>
            </div>
        </div>
    </div>

    <script type="module">
        // shared.js dosyasÄ±ndan gerekli fonksiyonlarÄ± ve deÄŸiÅŸkenleri import et
        import { auth, GoogleAuthProvider, signInWithPopup, signOut, showConfirmModal, displayError, showModal, closeModal, setTheme, toggleTheme } from './shared.js';

        // UI Elementleri
        const googleSigninButton = document.getElementById('google-signin-button');
        const signOutButton = document.getElementById('sign-out-button');
        const themeToggleButton = document.getElementById('theme-toggle'); // Tema butonu

        // Window objesine ortak fonksiyonlarÄ± ekle (diÄŸer sayfalarda da kullanÄ±labilmesi iÃ§in)
        window.showModal = showModal;
        window.closeModal = closeModal;
        window.displayError = displayError;
        window.showConfirmModal = showConfirmModal;
        window.setTheme = setTheme; // Tema fonksiyonlarÄ±nÄ± da ekle
        window.toggleTheme = toggleTheme;

        // --- Google ile GiriÅŸ Yapma ---
        googleSigninButton.addEventListener('click', async () => {
            const provider = new GoogleAuthProvider();
            try {
                await signInWithPopup(auth, provider);
                // onAuthStateChanged shared.js iÃ§inde olduÄŸu iÃ§in burada ek bir iÅŸlem yapmaya gerek yok
                // Buton gÃ¶rÃ¼nÃ¼rlÃ¼ÄŸÃ¼ shared.js tarafÄ±ndan yÃ¶netilecek
            } catch (error) {
                console.error("Google ile giriÅŸ hatasÄ±:", error);
                displayError("Google ile giriÅŸ yapÄ±lÄ±rken bir hata oluÅŸtu: " + error.message);
            }
        });

        // --- Ã‡Ä±kÄ±ÅŸ Yapma ---
        signOutButton.addEventListener('click', async () => {
            showConfirmModal("Oturumu kapatmak istediÄŸinizden emin misiniz?", async (confirmed) => {
                if (confirmed) {
                    try {
                        await signOut(auth);
                        console.log("Oturum kapatÄ±ldÄ±.");
                        // Buton gÃ¶rÃ¼nÃ¼rlÃ¼ÄŸÃ¼ shared.js tarafÄ±ndan yÃ¶netilecek
                    } catch (error) {
                        console.error("Ã‡Ä±kÄ±ÅŸ yapma hatasÄ±:", error);
                        displayError("Ã‡Ä±kÄ±ÅŸ yapÄ±lÄ±rken bir hata oluÅŸtu: " + error.message);
                    }
                }
            });
        });

        // Tema butonuna olay dinleyici ekle
        if (themeToggleButton) {
            themeToggleButton.addEventListener('click', toggleTheme);
        }

        // Sayfa yÃ¼klendiÄŸinde shared.js'deki onAuthStateChanged dinleyicisinin Ã§alÄ±ÅŸmasÄ± iÃ§in
        // DOMContentLoaded olayÄ±nÄ± dinlemeye gerek yok, shared.js zaten kendi baÅŸÄ±na Ã§alÄ±ÅŸacak.
        // Ancak tema butonunun ilk durumunu ayarlamak iÃ§in shared.js'deki updateThemeToggleButton'Ä± Ã§aÄŸÄ±rabiliriz.
        document.addEventListener('DOMContentLoaded', () => {
             // shared.js zaten temayÄ± baÅŸlatÄ±yor ve butonu gÃ¼ncelliyor.
             // Bu sayfada ek bir Ã§aÄŸrÄ±ya gerek yok, shared.js'deki DOMContentLoaded yeterli.
        });
    </script>
</body>
</html>
